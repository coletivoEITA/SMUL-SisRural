/**
 * better-dom: Live extension playground
 * @version 4.1.0 Tue, 24 Mar 2020 09:55:50 GMT
 * @link https://github.com/chemerisuk/better-dom
 * @copyright 2020 Maksim Chemerisuk
 * @license MIT
 */
!function(){"use strict";function t(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function e(t){if(t&&t.nodeType===E)return t.ownerDocument.getElementsByTagName("head")[0].appendChild(t)}function n(t,e,n){void 0===n&&(n="$Element");var r="http://chemerisuk.github.io/better-dom/"+n+".html#"+t,i="invalid call `"+n+("DOM"===n?".":"#")+t+"(";i+=O.call(e,String).join(", ")+")`. ",this.message=i+"Check "+r+" to verify the arguments"}function r(t,e){n.call(this,t,e,"DOM")}function i(t,e){n.call(this,t,e,"$Document")}function o(t){t&&(this[0]=t,t.__40100__=this)}function s(t){if(!(this instanceof s))return t?t.__40100__||new s(t):new s;o.call(this,t);var n=t.createElement("style");n.innerHTML=P,e(n),t[N]=n.sheet||n.styleSheet}function a(t){return this instanceof a?void o.call(this,t):t?t.__40100__||new a(t):new a}function c(t){return function(e){var r=this[0];if(!r||"string"!=typeof e)throw new n("create"+t,arguments);var i=t?[]:null,o=!i&&q.exec(e);if(o)return new a(r.createElement(o[1]));H.innerHTML=e.trim();for(var s;s=H.firstElementChild;){if(H.removeChild(s),r!==g&&(s=r.adoptNode(s)),!i){i=new a(s);break}i.push(new a(s))}return i||new a}}function f(t,e){var n=a(e),r=t.constructor;Object.keys(t).forEach(function(e){var i=t[e];i!==r&&(n[e]=i)}),r&&r.call(n)}function u(t,e){return function(r){if(r&&typeof r!==e)throw new n(t,arguments);var i=this[0],o=z(r),s=i?i.children:[];return"number"==typeof r?(r<0&&(r=s.length+r),a(s[r])):o?D.call(s,o).map(a):O.call(s,a)}}function p(t,e,n){return function(){var r=this,i=this[0];if(!i||e&&!i.parentNode)return this;for(var o=t?"":i.ownerDocument.createDocumentFragment(),c=arguments.length,f=new Array(c),u=0;u<c;u++)f[u]=arguments[u];return f.forEach(function(t){"function"==typeof t&&(t=t(r)),"string"==typeof t?"string"==typeof o?o+=t.trim():t=s(i.ownerDocument).createAll(t):t instanceof a&&(t=[t]),k(t)&&("string"==typeof o&&(t=s(i.ownerDocument).createAll(o).concat(t),o=i.ownerDocument.createDocumentFragment()),t.forEach(function(t){o.appendChild(t[0])}))}),"string"==typeof o?i.insertAdjacentHTML(t,o):n(i,o),this}}function l(t,e,r){return function(i){if(i&&"string"!=typeof i)throw new n(t,arguments);var o=this[0],s=r?[]:null;if(o){var c=z(i);!o||c&&"closest"===t||(o=o[e]);for(var f=o;f;f=f[e])if(!c||c(f)){if(!s){s=a(f);break}s.push(a(f))}}return s||new a}}function h(t,e){this.node=t,this.style=t.style,this.eventType=e?rt:nt,this.animationName=e}function y(e,r){return function(i,o){var s=this;if("string"!=typeof i&&(o=i,i=null),o&&"function"!=typeof o)throw new n(e,arguments);var a=this[0];if(!a)return this;var c=t(a);if(a&&c.width){var f=function(){a.style.visibility=r?"hidden":"inherit","function"==typeof o&&o(s)};a.ownerDocument.documentElement.contains(a)&&(i||0!==parseFloat(c["transition-duration"]))?i&&0===parseFloat(c["animation-duration"])?j(f):(a.style.visibility="visible",new it(a,i).start(f,r?"normal":"reverse")):j(f)}return this.set("aria-hidden",String(r))}}function v(t,e){return function(r){if("string"!=typeof r)throw new n(t,arguments);var i=this[0];if(!i)return e?[]:new o;var c;if(this instanceof s||this instanceof a){var f=ot.exec(r);if(f)c=f[1]?i.getElementsByTagName(r):i.getElementsByClassName(f[2]),c&&!e&&(c=c[0]);else if(this instanceof a){var u,p=i.getAttribute("id");p?u=p.replace(st,"\\$&"):(u="___40100__",i.setAttribute("id",u)),u="[id='"+u+"'] ",r=u+r.split(",").join(","+u),c=i["querySelector"+e](r),p||i.removeAttribute("id")}else c=i["querySelector"+e](r)}else c=i["querySelector"+e](r);return e?O.call(c,a):a(c)}}function m(t,e,n,r){this.context=t,this.node=e,this.options=n,this.args=r,n.selector&&(this.matcher=z(n.selector,e))}var d=window,g=document,w=g.documentElement,b=0,E=g.ELEMENT_NODE,A=g.DOCUMENT_NODE,C=["Webkit","O","Moz","ms"],T="v__40100__",N="__40100__sheet",S=d.WebKitAnimationEvent?"-webkit-":"",x=Array.prototype,L=x.every,_=x.forEach,D=x.filter,O=x.map,k=(x.slice,Array.isArray),M=Object.keys,j=d.requestAnimationFrame;n.prototype=new TypeError,r.prototype=new TypeError,i.prototype=new TypeError,o.prototype={toString:function(){return""},valueOf:function(){return b}};var P="@"+S+"keyframes "+T+" {from {opacity:.99} to {opacity:1}}",B=new o;s.prototype=B,B.valueOf=function(){var t=this[0];return t?A:b},B.toString=function(){return"#document"};var I=new o;a.prototype=I,I.valueOf=function(){var t=this[0];return t?E:b},I.toString=function(){var t=this[0];return t?"<"+t.tagName.toLowerCase()+">":"#unknown"};var F=new s(d.document),R=d.DOM;F.constructor=function(t){var e=t&&t.nodeType;return e===E?a(t):e===A?s(t):new o(t)},F.noConflict=function(){return d.DOM===F&&(d.DOM=R),F},d.DOM=F;var q=/^<([a-zA-Z-]+)\/?>$/,H=g.createElement("body");s.prototype.create=c(""),s.prototype.createAll=c("All");var U=/^(\w*)(?:#([\w\-]+))?(?:\[([\w\-\=]+)\])?(?:\.([\w\-]+))?$/,$=C.concat(null).map(function(t){return(t?t.toLowerCase()+"M":"m")+"atchesSelector"}).reduceRight(function(t,e){return t||e in w&&e},null),z=function(t,e){if("string"!=typeof t)return null;var n=U.exec(t);return n&&(n[1]&&(n[1]=n[1].toLowerCase()),n[3]&&(n[3]=n[3].split("=")),n[4]&&(n[4]=" "+n[4]+" ")),function(r){var i,o;for(n||$||(o=(e||r.ownerDocument).querySelectorAll(t));r&&1===r.nodeType;r=r.parentNode){if(n)i=(!n[1]||r.nodeName.toLowerCase()===n[1])&&(!n[2]||r.id===n[2])&&(!n[3]||(n[3][1]?r.getAttribute(n[3][0])===n[3][1]:r.hasAttribute(n[3][0])))&&(!n[4]||(" "+r.className+" ").indexOf(n[4])>=0);else if($)i=r[$](t);else for(var s=0,a=o.length;s<a;++s){var a=o[s];if(a===r)return a}if(i||!e||r===e)break}return i&&r}},W=[],X=S?"webkitAnimationStart":"animationstart",K=[S+"animation-name:"+T+" !important",S+"animation-duration:1ms !important"].join(";");s.prototype.extend=function(t,e){var n=this[0];if(!n)return this;if(1===arguments.length&&"object"==typeof t)return M(t).forEach(function(e){s.prototype[e]=t[e]}),this;if("*"===t)return M(e).forEach(function(t){a.prototype[t]=e[t]}),this;if("function"==typeof e&&(e={constructor:e}),!e||"object"!=typeof e)throw new i("extend",arguments);var r=z(t);W.push([r,e]),n.addEventListener(X,function(t){var n=t.target;t.animationName===T&&r(n)&&(t.stopPropagation(),n.style.setProperty(S+"animation-name","none","important"),f(e,n))},!0),_.call(n.querySelectorAll(t),function(t){t.style.setProperty(S+"animation-name","none","important"),d.setTimeout(function(){f(e,t)},0)}),this.importStyles(t,K)},s.prototype.mock=function(t){if(!t)return new a;var e=this.create(t),n=function r(t){W.forEach(function(e){var n=e[0],r=e[1];n(t)&&f(r,t)}),_.call(t.children,r)};return W.length&&n(e[0]),e},s.prototype.importScripts=function(){for(var t=this,n=arguments,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=function c(){var r=t[0];if(r){var s,a=o.shift(),f=typeof a;if("string"===f)s=r.createElement("script"),s.src=a,s.onload=c,s.async=!0,e(s);else if("function"===f)a();else if(a)throw new i("importScripts",n)}};a()},s.prototype.importStyles=function(t,e){var n=this[0];if(n){if(e||"string"!=typeof t||(e=t,t="@media screen"),"string"!=typeof t||"string"!=typeof e)throw new i("importStyles",arguments);var r=n[N],o=r.cssRules.length;t.split(",").forEach(function(t){try{o=r.insertRule(t+"{"+e+"}",o)}catch(n){}})}},a.prototype.child=u("child","number"),a.prototype.children=u("children","string");var V=/[\n\t\r]/g,Y=function(t){return(" "+t.className+" ").replace(V," ")};a.prototype.hasClass=function(t){if("string"!=typeof t)throw new n("hasClass",arguments);var e=this[0];return!!e&&(e.classList?e.classList.contains(t):Y(e).indexOf(" "+t+" ")>=0)},a.prototype.addClass=function(){for(var t=this,e=arguments,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=this[0];return s&&i.forEach(function(r){if("string"!=typeof r)throw new n("addClass",e);s.classList?s.classList.add(r):t.hasClass(r)||(t[0].className+=" "+r)}),this},a.prototype.removeClass=function(){for(var t=arguments,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=this[0];return o&&r.forEach(function(e){if("string"!=typeof e)throw new n("removeClass",t);o.classList?o.classList.remove(e):o.className=Y(o).replace(" "+e+" "," ").trim()}),this},a.prototype.toggleClass=function(t,e){if("string"!=typeof t)throw new n("toggleClass",arguments);"boolean"!=typeof e&&(e=!this.hasClass(t));var r=this[0];return r&&(e?this.addClass(t):this.removeClass(t)),e};var Z=/\-./g,G={get:{},set:{},find:function(t,e){var n=t.replace(Z,function(t){return t[1].toUpperCase()});return n in e||(n=C.map(function(t){return t+n[0].toUpperCase()+n.slice(1)}).filter(function(t){return t in e})[0]),this.get[t]=this.set[t]=n}},J=["Top","Right","Bottom","Left"],Q={font:["fontStyle","fontSize","/","lineHeight","fontFamily"],padding:J.map(function(t){return"padding"+t}),margin:J.map(function(t){return"margin"+t}),"border-width":J.map(function(t){return"border"+t+"Width"}),"border-style":J.map(function(t){return"border"+t+"Style"})};G.get["float"]=G.set["float"]="cssFloat","fill-opacity font-weight line-height opacity orphans widows z-index zoom".split(" ").forEach(function(t){var e=t.replace(Z,function(t){return t[1].toUpperCase()});G.get[t]=e,G.set[t]=function(t,n){n[e]=t.toString()}}),M(Q).forEach(function(t){var e=Q[t];G.get[t]=function(t){var n=[],r=function(e,r){return n.push("/"===e?e:t[e]),!n[r]};return e.some(r)?"":n.join(" ")},G.set[t]=function(n,r){n&&"cssText"in r?r.cssText+=";"+t+":"+n:e.forEach(function(t){return r[t]="number"==typeof n?n+"px":n.toString()})}});var tt=G;a.prototype.css=function(e,r){var i=this,o=arguments.length,s=this[0];if(s){var a,c=s.style;if(1===o&&("string"==typeof e||k(e))){var f=function(e){var n=tt.get[e]||tt.find(e,c),r="function"==typeof n?n(c):c[n];return r||(a||(a=t(s)),r="function"==typeof n?n(a):a[n]),r};return"string"==typeof e?f(e):e.map(f).reduce(function(t,n,r){return t[e[r]]=n,t},{})}if(2===o&&"string"==typeof e){var u=tt.set[e]||tt.find(e,c);"function"==typeof r&&(r=r(this)),null==r&&(r=""),"function"==typeof u?u(r,c):c[u]="number"==typeof r?r+"px":r.toString()}else{if(1!==o||!e||"object"!=typeof e)throw new n("css",arguments);M(e).forEach(function(t){i.css(t,e[t])})}return this}return 1===o&&k(e)?{}:1!==o||"string"!=typeof e?this:void 0},a.prototype.after=p("afterend",!0,function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}),a.prototype.before=p("beforebegin",!0,function(t,e){t.parentNode.insertBefore(e,t)}),a.prototype.prepend=p("afterbegin",!1,function(t,e){t.insertBefore(e,t.firstChild)}),a.prototype.append=p("beforeend",!1,function(t,e){t.appendChild(e)}),a.prototype.replace=p("",!0,function(t,e){t.parentNode.replaceChild(e,t)}),a.prototype.remove=p("",!0,function(t){t.parentNode.removeChild(t)});var et={":focus":function(t){return t===t.ownerDocument.activeElement}};a.prototype.matches=function(t){if(!t||"string"!=typeof t)throw new n("matches",arguments);var e=et[t]||z(t);return!!e(this[0])},a.prototype.offset=function(){var t=this[0],e={top:0,left:0,right:0,bottom:0,width:0,height:0};if(t){var n=(t.ownerDocument||t).documentElement,r=n.clientTop,i=n.clientLeft,o=d.pageYOffset||n.scrollTop,s=d.pageXOffset||n.scrollLeft,a=t.getBoundingClientRect();e.top=a.top+o-r,e.left=a.left+s-i,e.right=a.right+s-i,e.bottom=a.bottom+o-r,e.width=a.right-a.left,e.height=a.bottom-a.top}return e},a.prototype.next=l("next","nextElementSibling"),a.prototype.prev=l("prev","previousElementSibling"),a.prototype.nextAll=l("nextAll","nextElementSibling",!0),a.prototype.prevAll=l("prevAll","previousElementSibling",!0),a.prototype.closest=l("closest","parentNode"),a.prototype.value=function(t){var e=this[0];if(!e)return t?this:void 0;var n=e.tagName;if(void 0===t)return"SELECT"===n?~e.selectedIndex?e.options[e.selectedIndex].value:"":"OPTION"===n?e.hasAttribute("value")?e.value:e.text:"INPUT"===n||"TEXTAREA"===n?e.value:e.textContent;switch(n){case"INPUT":case"OPTION":case"TEXTAREA":"function"==typeof t&&(t=t(e.value)),e.value=t;break;case"SELECT":"function"==typeof t&&(t=t(e.value)),L.call(e.options,function(e){return!(e.selected=e.value===t)})&&(e.selectedIndex=-1);break;default:"function"==typeof t&&(t=t(e.textContent)),e.textContent=t}return this},a.prototype.empty=function(){return this.value("")};var nt=S?"webkitTransitionEnd":"transitionend",rt=S?"webkitAnimationEnd":"animationend";h.prototype={handleEvent:function(t){this.animationName&&t.animationName!==this.animationName||(this.animationName&&(this.style.animationName="",this.style.animationDirection=""),this.node.removeEventListener(this.eventType,this,!0),"function"==typeof this.callback&&this.callback())},start:function(t,e){this.callback=t,this.animationName&&(this.style.animationName=this.animationName,this.style.animationDirection=e),this.node.addEventListener(this.eventType,this,!0)}};var it=h;a.prototype.show=y("show",!1),a.prototype.hide=y("hide",!0),o.prototype.clone=function(t){if("boolean"!=typeof t)throw new n("clone",arguments);var e=this[0];if(e){var r=e.cloneNode(t);if(this instanceof a)return new a(r);if(this instanceof s)return new s(r)}return new o},o.prototype.contains=function(t){var e=this[0];if(!e)return!1;if(t instanceof a){var r=t[0];return r===e||(e.contains?e.contains(r):16&e.compareDocumentPosition(r))}throw new n("contains",arguments)};var ot=/^(?:(\w+)|\.([\w\-]+))$/,st=/'|\\/g;o.prototype.find=v("find",""),o.prototype.findAll=v("findAll","All");var at={};"onfocusin"in w?(at.focus=function(t){t._type="focusin"},at.blur=function(t){t._type="focusout"}):at.focus=at.blur=function(t){t.options.capture=!0},g.createElement("input").validity&&(at.invalid=function(t){t.options.capture=!0});var ct=at,ft=!1;try{var ut=Object.defineProperty({},"passive",{get:function(){ft=!0}});d.addEventListener("test",null,ut)}catch(pt){}m.prototype={handleEvent:function(t){if(this.event=t,this.currentTarget=this.matcher?this.matcher(t.target):this.node,this.currentTarget){this.options.once===!0&&this.unsubscribe();var e=this.args.map(this.getEventProperty,this);this.callback.apply(this.context,e)===!1&&t.preventDefault()}},getEventProperty:function(t){var e=arguments,n=this.event;if("type"===t)return this.type;if("target"===t||"relatedTarget"===t)return a(n[t]);if("currentTarget"===t)return a(this.currentTarget);var r=n[t];return"function"==typeof r?function(){return r.apply(n,e)}:r},subscribe:function(t,e){var n=ct[t];this.type=t,this.callback=e,n&&n(this),this.node.addEventListener(this._type||this.type,this,this.getLastArgument())},unsubscribe:function(){this.node.removeEventListener(this._type||this.type,this,this.getLastArgument())},getLastArgument:function(){var t=!!this.options.capture;return this.options.passive&&ft&&(t={passive:!0,capture:t}),t}};var lt=m;o.prototype.fire=function(t,e){var r,i,o,s=this[0];if("string"!=typeof t)throw new n("fire",arguments);var a=ct[t],c={options:{}};if(a&&(c=a(c)||c),i=c._type||t,!s)return!0;if(r=(s.ownerDocument||s).createEvent("CustomEvent"),r.initCustomEvent(i,!0,!0,e),o=s.dispatchEvent(r),o&&s[t]){var f=lt.prototype.handleEvent;lt.prototype.handleEvent=function(e){if(this.type!==t)return f.call(this,e)},s[t](),lt.prototype.handleEvent=f}return o};var ht={get:{},set:{}};"tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" ").forEach(function(t){ht.get[t.toLowerCase()]=function(e){return e[t]}}),ht.get.style=function(t){return t.style.cssText},ht.set.style=function(t,e){t.style.cssText=e},ht.get.type=function(t){return t.getAttribute("type")||t.type};var yt=ht;o.prototype.get=function(t,e){var r,i=this,o=this[0],s=yt.get[t];if(!o)return r;if(0===arguments.length)return o.innerHTML;if(s)r=s(o,t);else if("string"==typeof t)r=t in o?o[t]:this instanceof a?o.getAttribute(t):null;else{if(!k(t))throw new n("get",arguments);r=t.reduce(function(t,e){return t[e]=i.get(e),t},{})}return null!=r?r:e},o.prototype.on=function(t,e,r,i){if("string"==typeof t&&("string"==typeof e?e={selector:e}:"function"==typeof e?(i=e,e={},r=[]):"object"==typeof e&&k(e)&&(i=r,r=e,e={}),"function"==typeof r&&(i=r,r=[]),e&&"object"==typeof e&&"function"==typeof i)){var o=this[0];if(!o)return function(){};var s=new lt(this,o,e,r);return s.subscribe(t,i),function(){return s.unsubscribe()}}throw new n("on",arguments)},o.prototype.set=function(t,e){var r=this,i=this[0],o=arguments.length,s=yt.set[t];if(i)if("string"==typeof t)1===o&&(e=t,t="innerHTML"),"function"==typeof e&&(e=e(this.get(t))),s?s(i,e):null==e&&this instanceof a?i.removeAttribute(t):t in i?i[t]=e:this instanceof a&&i.setAttribute(t,e);else if(k(t))1===o?(i.textContent="",this.append.apply(this,t)):t.forEach(function(t){r.set(t,e)});else{if("object"!=typeof t)throw new n("set",arguments);M(t).forEach(function(e){r.set(e,t[e])})}return this}}();


/**
 * better-dateinput-polyfill: input[type=date] polyfill for better-dom
 * @version 3.3.0 Tue, 24 Mar 2020 11:10:32 GMT
 * @link https://github.com/chemerisuk/better-dateinput-polyfill
 * @copyright 2020 Maksim Chemerisuk
 * @license MIT
 */
!function(){"use strict";function t(t){return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-")}function e(t){var e=new Date((t||"?")+"T00:00");return isNaN(e.getTime())?null:e}var i="dateinput-picker{display:inline-block;vertical-align:bottom;overflow:hidden;position:absolute;z-index:1000;width:336px;height:320px;max-height:320px;box-shadow:0 8px 24px #888;background:#fff;opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);-webkit-transform-origin:0 0;transform-origin:0 0;transition:.1s ease-out}dateinput-picker[aria-hidden=true]{opacity:0;-webkit-transform:skew(-25deg) scaleX(.75);transform:skew(-25deg) scaleX(.75);visibility:hidden;height:0}dateinput-picker[aria-expanded=true]{height:220px;max-height:220px}dateinput-picker+input{color:transparent!important;caret-color:transparent!important}dateinput-picker+input::selection{color:rgba(0,0,0,.01);background:none}dateinput-picker+input::-moz-selection{background:none}",n=DOM.find("html"),a=n.get("lang")||void 0,r="orientation"in window?"mobile":"desktop",s=function(){return"_"!==DOM.create("<input type='date'>").value("_").value()}(),o=DOM.findAll("meta[name^='data-format:']").reduce(function(t,e){var i=e.get("name").split(":")[1].trim(),n=JSON.parse(e.get("content"));if(i)try{t[i]=new window.Intl.DateTimeFormat(a,n)}catch(r){}return t},{});DOM.extend("input[type=date]",{constructor:function(){if(this._isPolyfillEnabled())return!1;var t=this.css(["color","font-size","font-family","font-style","line-height","padding-left","border-left-width","text-indent"]);t.dx=["padding-left","border-left-width","text-indent"].map(function(e){return parseFloat(t[e])}).reduce(function(t,e){return t+e}),t.css=["font-family","font-style","line-height","font-size"].map(function(e){return e+":"+t[e]}).join(";").replace(/"/g,""),this._backgroundTemplate=('<svg xmlns="http://www.w3.org/2000/svg"><text x="'+t.dx+'" y="50%" dy=".35em" fill="'+t.color+'"></text></svg>').replace("></",' style="'+t.css+'"></');var e=DOM.create("<dateinput-picker tabindex='-1'>");e._parentInput=this,this.before(e.hide()),this._picker=e;var i=this._syncDisplayedText.bind(this,"defaultValue"),n=this._syncDisplayedText.bind(this,"value"),a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");Object.defineProperty(this[0],"value",{configurable:!1,enumerable:!0,get:a.get,set:this._setValue.bind(this,a.set,n)}),Object.defineProperty(this[0],"valueAsDate",{configurable:!1,enumerable:!0,get:this._getValueAsDate.bind(this),set:this._setValueAsDate.bind(this)}),this.on("change",n),this.on("focus",this._focusInput.bind(this)),this.on("blur",this._blurInput.bind(this)),this.on("keydown",["which"],this._keydownInput.bind(this)),this.on("click",this._focusInput.bind(this)),this.closest("form").on("reset",i),i()},_isPolyfillEnabled:function(){var t=this.get("data-polyfill");return"none"===t||(!t||t!==r&&"all"!==t?s:(this.set("type","text"),!1))},_setValue:function(i,n,a){var r=e(a);if(r){var s=new Date((this.get("min")||"?")+"T00:00"),o=new Date((this.get("max")||"?")+"T00:00");r<s?a=t(s):r>o&&(a=t(o))}else a="";i.call(this[0],a),n()},_getValueAsDate:function(){return e(this.value())},_setValueAsDate:function(e){e instanceof Date&&!isNaN(e.getTime())&&this.value(t(e))},_syncDisplayedText:function(t){var i=this.get(t),n=e(i);if(n){var r=this.get("data-format"),s=o[r];try{var l=new Date(n.getFullYear(),n.getMonth(),n.getDate(),12);i=s?s.format(l):l.toLocaleDateString(a,r?JSON.parse(r):{})}catch(h){}}this.css("background-image","url('data:image/svg+xml,"+encodeURIComponent(this._backgroundTemplate.replace("></",">"+i+"</"))+"')")},_keydownInput:function(e){if(13===e&&"true"===this._picker.get("aria-hidden"))return!0;if(32===e)this.get("readonly")||(this._picker.toggleState(!1),this._picker.invalidateState(),"true"===this._picker.get("aria-hidden")?this._picker.show():this._picker.hide());else if(27===e||9===e||13===e)this._picker.hide();else if(8===e||46===e)this.empty().fire("change");else if(17===e)this._picker.toggleState(),this._picker.invalidateState();else{var i;if(74===e||40===e?i=7:75===e||38===e?i=-7:76===e||39===e?i=1:72!==e&&37!==e||(i=-1),i){var n=this.get("valueAsDate")||new Date,a="true"===this._picker.get("aria-expanded");!a||40!==e&&38!==e?!a||37!==e&&39!==e?n.setDate(n.getDate()+i):n.setMonth(n.getMonth()+(i>0?1:-1)):n.setMonth(n.getMonth()+(i>0?4:-4)),this.value(t(n)).fire("change")}}return 9===e},_blurInput:function(){this._picker.hide()},_focusInput:function(){if(this.get("readonly"))return!1;var t=this.offset(),e=this._picker.offset(),i=t.height;n.get("clientHeight")<t.bottom+e.height&&(i=-e.height),this._picker.toggleState(!1),this._picker.invalidateState(),this._picker.css("margin-top",i).show()}}),DOM.importStyles(i)}(),function(){"use strict";function t(t,e){return"string"==typeof e?Array(t+1).join(e):Array.apply(null,Array(t)).map(e).join("")}function e(t,e){return"en-US"===o?t:e}function i(t){var i=new Date;if(i.setDate(i.getDate()-i.getDay()+t+e(0,1)),c)try{return i.toLocaleDateString(o,{weekday:"short"})}catch(n){}return i.toUTCString().split(",")[0].slice(0,2)}function n(t){var e=new Date(25e8*(t+1));if(c)try{return e.toLocaleDateString(o,{month:"short"})}catch(i){}return e.toUTCString().split(" ")[2]}function a(t){var e=new Date(t.getFullYear(),t.getMonth(),12);if(c)try{return e.toLocaleDateString(o,{month:"long",year:"numeric"})}catch(i){}return e.toUTCString().split(" ").slice(2,4).join(" ")}var r="body{overflow:hidden}*{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;line-height:2.5rem;text-align:center;cursor:default;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:0}a{position:absolute;width:3rem;height:2.5rem}a[rel=prev]{left:0}a[rel=next]{right:0}b{display:block;cursor:pointer}table{width:100%;table-layout:fixed;border-spacing:0;border-collapse:collapse;text-align:center;line-height:2.5rem}table+table{position:absolute;top:2.5rem;left:0;opacity:1;transition:.1s ease-out;background:#fff}table+table td{line-height:3.75rem}table+table[aria-hidden=true]{visibility:hidden!important;opacity:0}td,th{padding:0}thead{background:#ddd;font-size:smaller;font-weight:700}[aria-selected=false],[aria-disabled=true]{color:#888}[aria-selected=true]{box-shadow:inset 0 0 0 1px #888}a:hover,td:hover,[aria-disabled=true],[aria-selected=true]{background-color:#f5f5f5}",s=DOM.find("html"),o=s.get("lang")||void 0,l="orientation"in window?"touchend":"mousedown",h=!!HTMLElement.prototype.attachShadow,c=function(){try{(new Date).toLocaleString("_")}catch(t){return t instanceof RangeError}return!1}(),d='<a rel="prev"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="100%" viewBox="0 0 16 16"><path d="M11.5 14.06L1 8L11.5 1.94z"/></svg></a><a rel="next"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="100%" viewBox="0 0 16 16"><path d="M15 8L4.5 14.06L4.5 1.94z"/></svg></a><b></b><table><thead>'+t(7,function(t,e){return"<th>"+i(e)})+"</thead><tbody>"+t(7,"<tr>"+t(7,"<td>")+"</tr>")+"</tbody></table><table><tbody>"+t(3,function(e,i){return"<tr>"+t(4,function(t,e){return"<td>"+n(4*i+e)})})+"</tbody></table>";DOM.extend("dateinput-picker",{constructor:function(){var t=this;if(h){var e=this[0].attachShadow({mode:"closed"});setTimeout(function(){t._initContent(DOM.constructor(e))},0)}else{var i="ScriptEngineMajorVersion"in window,n=DOM.create("<object type='text/html' width='100%' height='100%'>");i||n.set("data","about:blank"),this.on("load",{capture:!0,once:!0},["target"],function(e){var i=DOM.constructor(e.get("contentDocument"));t._initContent(i.find("body"))}),this.append(n),i&&n.set("data","about:blank")}},_initContent:function(t){t.set("<style>"+r+"</style>"+d),this._calendarDays=t.find("table"),this._calendarMonths=t.find("table+table"),this._calendarCaption=t.find("b"),this._calendarDays.on("picker:invalidate",["detail"],this._invalidateDays.bind(this)),this._calendarMonths.on("picker:invalidate",["detail"],this._invalidateMonths.bind(this)),t.on("picker:invalidate",["detail"],this._invalidateCaption.bind(this)),t.on(l,"a",["currentTarget"],this._clickPickerButton.bind(this)),t.on(l,"td",["target"],this._clickPickerDay.bind(this)),this._calendarCaption.on(l,this._clickCaption.bind(this)),t.on(l,function(){return!1}),this._parentInput.on("change",this.invalidateState.bind(this)),DOM.get("activeElement")===this._parentInput[0]&&this.show()},_invalidateDays:function(t){var i=t.getMonth(),n=t.getDate(),a=t.getFullYear(),r=new Date((this._parentInput.get("min")||"?")+"T00:00"),s=new Date((this._parentInput.get("max")||"?")+"T00:00"),o=new Date(a,i,1);o.setDate(1-o.getDay()-e(1,0===o.getDay()?7:0)),this._calendarDays.findAll("td").forEach(function(t){o.setDate(o.getDate()+1);var e=i-o.getMonth(),l=null,h=null;a!==o.getFullYear()&&(e*=-1),o<r||o>s?h="true":e>0||e<0?l="false":n===o.getDate()&&(l="true"),t._ts=o.getTime(),t.set("aria-selected",l),t.set("aria-disabled",h),t.value(o.getDate())})},_invalidateMonths:function(t){var e=t.getMonth(),i=t.getFullYear(),n=new Date((this._parentInput.get("min")||"?")+"T00:00"),a=new Date((this._parentInput.get("max")||"?")+"T00:00"),r=new Date(i,e,1);this._calendarMonths.findAll("td").forEach(function(t,i){r.setMonth(i);var s=e-r.getMonth(),o=null;r<n||r>a?o="false":s||(o="true"),t._ts=r.getTime(),t.set("aria-selected",o)})},_invalidateCaption:function(t){var e=t.getFullYear();"true"!==this.get("aria-expanded")&&(e=a(t)),this._calendarCaption.value(e)},_clickCaption:function(){this.toggleState(),this.invalidateState()},_clickPickerButton:function(t){var e="next"===t.get("rel")?1:-1,i=this._parentInput.get("valueAsDate")||new Date;"true"===this.get("aria-expanded")?i.setFullYear(i.getFullYear()+e):i.setMonth(i.getMonth()+e),this._parentInput.set("valueAsDate",i).fire("change")},_clickPickerDay:function(t){var e;"true"===this.get("aria-expanded")?(e=isNaN(t._ts)?new Date:new Date(t._ts),this.toggleState(!1)):isNaN(t._ts)||(e=new Date(t._ts),this.hide()),null!=e&&this._parentInput.set("valueAsDate",e).fire("change")},toggleState:function(t){"boolean"!=typeof t&&(t="true"!==this.get("aria-expanded")),this.set("aria-expanded",t)},invalidateState:function(){var t="true"===this.get("aria-expanded"),e=t?this._calendarMonths:this._calendarDays,i=this._parentInput.get("valueAsDate")||new Date;e.fire("picker:invalidate",i),t?this._calendarMonths.show():this._calendarMonths.hide()}})}();
